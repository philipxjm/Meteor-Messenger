<head>
    <title>MeteorMessenger</title>
</head>

<body>
    <div class="bodywrapper">
        {{> nav}} {{> chat}}
    </div>
    {{> totalOverlay}}
</body>
<template name="totalOverlay">
    <div class="overlay {{overlay_class}}">
        <div class="login-reminder">
            <span class="reminder">Please Sign In to Continue</span>
        </div>
    </div>
</template>
<template name="chatOverlay">
    <div class="chat-overlay {{overlay_class}}">
        <div class="target-reminder">
            <span class="reminder">Please Select a Chat Partner</span>
        </div>
    </div>
</template>
<template name="nav">
    <nav class="navbar navbar-default">
        <a class="navbar-brand" href="#">Meteor Messenger</a>
        <p class="navbar-text">A Messenger mimic made in Meteor JS</p>
        <div id="login" class="navbar-text pull-right">{{> loginButtons align="right"}}</div>
    </nav>
</template>
<template name="chat">
    <div class="app-container">
        <div class="col-md-2 friendlist-container">
            {{> friendlist}}
        </div>
        <div class="col-md-10 chat-container">
            <div class="information-container">
                {{> informationbar}}
            </div>
            <div class="message-container">
                {{> messages}}
            </div>
            <div class="input-container">
                {{> input}}
            </div>
            {{> chatOverlay}}
        </div>
    </div>
</template>
<template name="friendlist">
    {{#each friends}}
    <div class="friendblock {{selected}}">
        <div class="friend clickable selectuser">
            <img class="float-left" id="profimg" src="{{gravatarurl}}" alt="profpic" />
            <div class="friend-info-container">
                <span class="friend-name navbar-text">{{username}}</span>
            </div>
        </div>
    </div>
    {{/each}}
</template>
<template name="friend">
</template>
<template name="input">
    <div class="col-xs-11 input-items">
        <input class="form-control input-items" type="text" id="msg" placeholder="Message here..." />
    </div>
    <div class="col-xs-1 input-items">
        <input class="btn btn-primary sendMsg input-items" type="button" value="Send" />
    </div>
</template>
<template name="informationbar">
    <div class="profileinfo-container">
        <img id="profimg" src="{{gravatarurl}}" alt="profpic" />
        <div id="chat-information-container">
            <div id="chatname" class="navbar-brand">
                <span id="chatname-text">{{chat_target}}</span>
            </div>
        </div>
    </div>
</template>
<template name="messages">
    <div class="messages-box" id="messages">
        <div class="message-block-container">
            {{#each messages}}
            <div class="{{messageFromToBlockClass}}">
                <div class="message-bubble {{messageFromToBubbleClass}}" data-toggle="tooltip" data-placement="{{tooltip_placement}}" title="{{timestamp}}" data-original-title="{{timestamp}}"><span>{{msg}}</span></div>
            </div>
            {{/each}}
        </div>
    </div>
</template>
<template name="profilepic">
    <img id="profimg" src="{{gravatarurl}}" alt="profpic" />
</template>
